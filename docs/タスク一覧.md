# セカンドフェーズまでの実装チェックリスト

## フェーズ1（ファーストフェーズ）

- [x] Next.js の最新版のインストール
- [x] リポジトリ/環境整備（`.env.example`、scripts、ESLint/Prettier）
- [x] `/app` 骨組み（`layout.tsx`/`page.tsx`/`error.tsx`/`loading.tsx`/`not-found.tsx`）
- [x] RSC/Client 境界設計（エディタは Client、一覧/詳細は RSC）
- [x] zod スキーマ定義（PixelArt/PublishEntry/ImageAsset）
- [x] conform 導入（フォームを zod と接続）
- [x] Prisma 初期化と `schema.prisma` 作成（users/pixel_arts/image_assets/publish_entries）
- [x] 初期マイグレーション適用 + 基本インデックス作成
- [x] Auth.js 設定（プロバイダ/セッション）
- [x] ルート保護と権限（本人のみ編集/削除）
- [x] OpenAI ラッパー（`gpt-image-1`）とエラー処理
- [x] 縮小/ピクセル化の実装（16/32/64、最近傍）
- [x] ストレージ/サムネ戦略（URL 管理を含む）
- [x] エディタ機能（グリッド/ズーム/ペン/消し/スポイト/塗り/Undo-Redo/パレット）
- [x] 書き出し機能（PNG コピー/ダウンロード）
- [x] Server Actions: `createPixelArt`/`updatePixelArt`/`deletePixelArt`/`getMyArts`
- [x] 主要画面実装（`/`, `/auth/sign-in`, `/generate`, `/editor/:id?`, `/my/arts`, `/art/:id`, `/*`）
- [x] ローディング/エラー境界の実装
- [x] レート制限/再試行通知（生成）
- [x] ログ/メトリクス最小実装（生成・保存イベント）
- [x] テスト: zod スキーマ/縮小・ピクセル化/Server Actions 基本
- [x] ドキュメント更新（仕様リンク/運用手順）

## フェーズ2（セカンドフェーズ）

> スコープを「Web サイト公開機能」に絞りました。

- [x] 公開スイッチ/非公開切替（Server Action）
- [x] スラッグ生成・ユニーク制約・本文(Markdown)編集
- [x] 公開ページ `/p/:slug` 実装
- [x] ギャラリー `/gallery`（公開作品一覧・並び替え/ページング）
- [x] 公開設定 UI 改善と共有サムネ自動生成
- [x] 検索条件の URL 同期（公開ページ/ギャラリー向け）
- [x] 画像最適化/キャッシュ/CDN 設定（必要に応じて）
- [ ] 監視/メトリクス拡充（公開操作）
- [ ] セキュリティ整合（公開権限/バリデーション）
- [ ] テスト強化（公開フロー・検索導線の統合/E2E）
